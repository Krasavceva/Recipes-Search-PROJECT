{"mappings":"AAAA,IAAIA,EAAeC,SAASC,cAAc,mBACtCC,EAAQF,SAASC,cAAc,kBAC/BE,EAASH,SAASC,cAAc,sBAChCG,EAAaJ,SAASC,cAAc,iBACpCI,EAAeL,SAASC,cAAc,kBACtCK,EAAQN,SAASC,cAAc,iBAGnC,MAAMM,EAAY,GAElBP,SAASQ,iBAAiB,oBAAoB,YAI9CC,iBACI,IAEI,IAAIC,EAAI,EACR,KAAOA,EAAI,IAAI,CACX,IAAIC,QAAiBC,MAAM,sDAEvBC,QAAaF,EAASG,OAE1BP,EAAUQ,KAAKF,EAAKG,MAAM,IAC1BN,G,EAUZ,SAAsBO,GAClB,IAAIC,EAAgB,GAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAUG,OAAQD,IAClCD,GAAiB,+DAEDD,EAAUE,GAAGE,sBAAsBJ,EAAUE,GAAGG,wIAG5BL,EAAUE,GAAGG,2DACbL,EAAUE,GAAGI,gJAEgDN,EAAUE,GAAGK,gFAGlHrB,EAAOsB,UAAYP,C,CAtBfQ,CAAanB,E,CAEf,MAAOoB,GACLC,QAAQC,IAAIF,EAAMG,Q,EAnBtBC,E,IA2CJhC,EAAaS,iBAAiB,SAAUwB,IACpCA,EAAEC,iBAINxB,iBACI,IACI,IAAIE,QAAiBC,MAAM,wDAAwDV,EAAMgC,SACzFN,QAAQC,IAAIlB,GAUpB,SAAsBwB,GAClB,IAAIjB,EAAgB,GACpBb,EAAaoB,UAAY,GAEzBnB,EAAM8B,MAAMC,QAAU,OACtBF,EAAQG,KAAIC,IACRrB,GAAiB,+DAEDqB,EAAOlB,sBAAsBkB,EAAOjB,wIAGhBiB,EAAOjB,2DACPiB,EAAOhB,gJAEsDgB,EAAOf,+EAEjG,IAEQ,GAAftB,EAAMgC,MACN7B,EAAaoB,UAAY,4CAEzBnB,EAAM8B,MAAMC,QAAU,QACtBlC,EAAOsB,UAAYP,E,CA9BnBsB,QADiB7B,EAASG,QACRE,M,CACpB,MAAOW,GACLtB,EAAaoB,UAAY,uBACzBtB,EAAOsB,UAAY,E,CAEvBrB,EAAWqC,O,CAbXC,EAAgB","sources":["src/home_page/js/index.js"],"sourcesContent":["let searchButton = document.querySelector('.search__button');\nlet input = document.querySelector('.search__input');\nlet result = document.querySelector('.result__container');\nlet searchForm = document.querySelector('.search__form')\nlet errorMessage = document.querySelector('.error_message');\nlet arrow = document.querySelector('.hidden_arrow');\nlet API_ID = \"9469ba72\";\nlet API_KEY = \"4313c2c37d93452e3b4523bb962f8253\";\nconst randomArr = [];\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    getRandom();\n});\n//запрос для вывода рандомных рецептов\nasync function getRandom() {\n    try {\n        // цикл\n        let i = 0;\n        while (i < 15) {\n            let response = await fetch(`https://www.themealdb.com/api/json/v1/1/random.php`)\n          //  console.log(response)\n            let data = await response.json();\n        //    console.log(data.meals[0]);\n            randomArr.push(data.meals[0]);\n            i++;\n        }\n     //   console.log(randomArr);\n        renderRandom(randomArr);\n\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n// render рандомных рецептов\nfunction renderRandom(randomArr) {\n    let generatedHTML = '';\n    //result.innerHTML = '';\n    for (let r = 0; r < randomArr.length; r++)\n        generatedHTML += `\n        <div class=\"result__item\">\n            <img src=\"${randomArr[r].strMealThumb}\" alt=\"${randomArr[r].strMeal}\">\n            <div class=\"item__details\">\n                <div class=\"details\">\n                    <h2 class=\"item-name\">${randomArr[r].strMeal}</h2>\n                    <h3 class=\"item-area\">${randomArr[r].strArea}</h3>\n                </div>\n                <button class=\"view-button\" onclick=\"window.location.href ='recipe_page/recipe.html?id=${randomArr[r].idMeal}'\">View recipe</button>\n            </div>            \n        </div>`\n    result.innerHTML = generatedHTML;\n}\n//==\n\n// поиск рецептов по клику на search\nsearchButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    sendApiRequest();\n})\n\nasync function sendApiRequest() {\n    try {\n        let response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${input.value}`)\n        console.log(response)\n        let data = await response.json();\n        generateHtml(data.meals);\n    } catch (error) {\n        errorMessage.innerHTML = `<p>Nothing found</p>`;\n        result.innerHTML = '';\n    }\n    searchForm.reset();\n}\n//render по поиску\nfunction generateHtml(results) {\n    let generatedHTML = '';\n    errorMessage.innerHTML = '';\n    // result.innerHTML = '';\n    arrow.style.display = \"none\";\n    results.map(result => {\n        generatedHTML += `\n        <div class=\"result__item\">\n            <img src=\"${result.strMealThumb}\" alt=\"${result.strMeal}\">\n            <div class=\"item__details\">\n                <div class=\"details\">\n                    <h2 class=\"item-name\">${result.strMeal}</h2>\n                    <h3 class=\"item-area\">${result.strArea}</h3>\n                </div>\n                <button class=\"view-button\" onclick=\"window.location.href ='recipe_page/recipe.html?id=${result.idMeal}'\">View recipe</button>\n            </div>            \n        </div>`\n    })\n    if (input.value == 0) {\n        errorMessage.innerHTML = `<p>Please, enter your search request</p>`\n    } else {\n        arrow.style.display = \"block\";\n        result.innerHTML = generatedHTML;\n    }\n}"],"names":["$efaeebbd3258c4cd$var$searchButton","document","querySelector","$efaeebbd3258c4cd$var$input","$efaeebbd3258c4cd$var$result","$efaeebbd3258c4cd$var$searchForm","$efaeebbd3258c4cd$var$errorMessage","$efaeebbd3258c4cd$var$arrow","$efaeebbd3258c4cd$var$randomArr","addEventListener","async","i","response","fetch","data","json","push","meals","randomArr","generatedHTML","r","length","strMealThumb","strMeal","strArea","idMeal","innerHTML","$efaeebbd3258c4cd$var$renderRandom","error","console","log","message","$efaeebbd3258c4cd$var$getRandom","e","preventDefault","value","results","style","display","map","result","$efaeebbd3258c4cd$var$generateHtml","reset","$efaeebbd3258c4cd$var$sendApiRequest"],"version":3,"file":"index.b4ccc77f.js.map"}